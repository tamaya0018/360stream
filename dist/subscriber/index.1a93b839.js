var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequirefbea;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},e.parcelRequirefbea=n),n("hlpVk");var i=n("1C0k0");const r={subscribeAndAttach:function(e){if(console.log(e.publisher.id),console.log(this.myInfo),e.publisher.id===this.myInfo.id)return;const t=document.createElement("button");t.textContent=`${e.publisher.id}: ${e.contentType}`,this.buttonArea.appendChild(t),t.onclick=async()=>{const{stream:t}=await this.myInfo.subscribe(e.id);let o;"video"===t.track.kind&&(o=document.getElementById("video"),t.attach(o),this.remoteMediaArea.appendChild(o))}}};function a(e,t,o){i.Member.call(this,e),this.buttonArea=t,this.remoteMediaArea=o}a.prototype=Object.create(i.Member.prototype),a.prototype.constructor=a,Object.assign(a.prototype,r);const c=document.getElementById("my-id"),d=document.getElementById("list-button"),s=document.getElementById("button-area"),l=document.getElementById("remote-media-area");(async()=>{const e=new a(new URLSearchParams(window.location.search).get("room"),s,l);await e.initMyContext(),c.textContent=e.myInfo.id,d.onclick=()=>{e.myRoom.publications.forEach((t=>{e.subscribeAndAttach(t)})),e.myRoom.onStreamPublished.add((t=>{e.subscribeAndAttach(t.publication)}))}})();
//# sourceMappingURL=index.1a93b839.js.map
